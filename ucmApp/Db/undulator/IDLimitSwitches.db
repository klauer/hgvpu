##########################################################
# ID Limit Switches - Only Minimum limit switches
# maximum limit switches are tied to E-Stop circuit
##########################################################
record(bi,"$(U):DSWMinLimit") {
  field(DESC,"DS Wall Min Limit Status")
  field(SCAN,".1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x1)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"Limit Hit")
}
record(bi,"$(U):USWMinLimit") {
  field(DESC,"US Wall Min Limit Switch")
  field(SCAN,".1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x2)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"Limit Hit")
}
record(bi,"$(U):DSAMinLimit") {
  field(DESC,"DS Aisle Min Limit Status")
  field(SCAN,".1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x4)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"Limit Hit")
}
record(bi,"$(U):USAMinLimit") {
  field(DESC,"US Aisle Min Limit Switch")
  field(SCAN,".1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x8)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"Limit Hit")
}
record(calc,"$(U):LimitStatus") {
  field(DESC,"LimitsStatus")
  field(CALC,"A||B||C||D")
  field(INPA,"$(U):USWMinLimit.VAL CP MS")
  field(INPB,"$(U):USAMinLimit.VAL CP MS")
  field(INPC,"$(U):DSWMinLimit.VAL CP MS")
  field(INPD,"$(U):DSAMinLimit.VAL CP MS")
}
##########################################################
# Phase Shifter Limits
##########################################################
record(bi,"$(U):PSWMinLimit") {
  field(DESC,"PS Wall Min Limit Status")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x10)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"Limit Hit")
}
record(bi,"$(U):PSAMinLimit") {
  field(DESC,"PS Aisle Min Limit Status")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x20)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"Limit Hit")
}
##########################################################
record(bo,"$(U):LimitLockout") {
  field(DESC,"Max Limit Lockout")
  field(ASG,"SYSTEM")
  field(DTYP,"asynUInt32Digital")
  field(OMSL,"supervisory")
  field(DOL,"0")
  field(OUT,"@asynMask($(PORT1) 0x800030 0x1)")
  field(ZNAM,"Normal Limit Logic")
  field(ONAM,"Allow Motor Open")
  field(OSV,"MINOR")
}
record(bi,"$(U):LimitLockWallRdbk") {
  field(DESC,"Limit Lockout Readback")
  field(DTYP,"asynUInt32Digital")
  field(SCAN,"1 second")
  field(INP,"@asynMask($(PORT1) 0x800030 0x1)")
  field(OSV,"MINOR")
  field(ZNAM,"Normal Limit Logic")
  field(ONAM,"Allow Motor Open")
}
record(bi,"$(U):LimitLockAisleRdbk") {
  field(DESC,"Limit Lockout Readback")
  field(DTYP,"asynUInt32Digital")
  field(SCAN,"1 second")
  field(INP,"@asynMask($(PORT1) 0x800030 0x2)")
  field(OSV,"MINOR")
  field(ZNAM,"Normal Limit Logic")
  field(ONAM,"Allow Motor Open")
}
##########################################################
record(bi,"$(U):DSANegMotorLimit") {
  field(DESC,"DSA Neg Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x400)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"DSA Neg Limit")
}
record(bi,"$(U):DSAPosMotorLimit") {
  field(DESC,"DSA Pos Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x4000)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"DSA Pos Limit")
}
record(bi,"$(U):DSWNegMotorLimit") {
  field(DESC,"DSW Neg Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x100)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"DSW Neg Limit")
}
record(bi,"$(U):DSWPosMotorLimit") {
  field(DESC,"DSW Pos Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x1000)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"DSW Pos Limit")
}
record(bi,"$(U):USANegMotorLimit") {
  field(DESC,"USA Neg Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x800)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"USA Neg Limit")
}
record(bi,"$(U):USAPosMotorLimit") {
  field(DESC,"USA Pos Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x8000)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"USA Pos Limit")
}
record(bi,"$(U):USWNegMotorLimit") {
  field(DESC,"USW Neg Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x200)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"USW Neg Limit")
}
record(bi,"$(U):USWPosMotorLimit") {
  field(DESC,"USW Pos Motor Limit")
  field(SCAN,"1 second")
  field(DTYP,"asynUInt32Digital")
  field(INP,"@asynMask($(PORT) 0x800000 0x2000)")
  field(OSV,"MAJOR")
  field(ZNAM,"Limit OK")
  field(ONAM,"USW Pos Limit")
}
##########################################################
